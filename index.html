<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Document</title>
</head>
<body>
    <input type="button" onclick="notifSet()" value="Notify">
    <input type="button" onclick="notifDel()" value="Notify">
    <script>
        function notifDel() {
            Notification.permission = 'denited'
        }
        function newMessage() {
            let nonification = new Notification ('Заголовок', {
                tag: 'ache-mail',
                body: 'Текст уведомления',
                icon: 'https://via.placeholder.com/150',

            });
            nonification.close()
        }

        function notifSet () {
            if (!("Notification" in window)) {
                console.log("This browser does not support desktop notification");
            }else if (Notification.permission === 'granted') {
                setTimeout(newMessage, 5000);
            }else if (Notification.permission !== 'denited') {
                Notification.requestPermission(function (permission) {
                    if (!('permission' in Notification)) {
                        Notification.permission === 'permission'
                    }
                    if (Notification.permission === 'permission') {
                        setTimeout(newMessage, 5000);
                    }
                });
            }
        };
        console.log('Notification:', ("Notification" in window))
        console.log('Notification 2:', Notification)
        console.log('Notification permission:', Notification.permission)

    </script>
</body>
</html>
